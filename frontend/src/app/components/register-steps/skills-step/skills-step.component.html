<div class="step-container">

  <div class="section">
    <div class="section-header">
      <h3>O que você busca?</h3>
      <p>Selecione suas áreas de foco principal.</p>
    </div>

    <div class="chips-cloud">
      <ion-chip 
        *ngFor="let item of availableInterests"
        [class.selected]="selectedInterests.includes(item)"
        (click)="toggleInterest(item)"
        outline="true">
        <ion-label>{{ item }}</ion-label>
        <ion-icon *ngIf="selectedInterests.includes(item)" name="checkmark"></ion-icon>
      </ion-chip>
    </div>
  </div>

  <div class="divider"></div>

  <div class="section">
    <div class="section-header">
      <h3>Suas Competências</h3>
      <p>Hard Skills, Soft Skills ou Tecnologias.</p>
    </div>

    <div class="search-wrapper">
      <ion-searchbar
        mode="md"
        [(ngModel)]="skillInput"
        (ionInput)="onSearchChange($event)"
        (keyup.enter)="addCustomSkill()"
        placeholder="Ex: Java, Liderança..."
        search-icon="search"
        animated="true">
      </ion-searchbar>
      
      <ion-button 
        fill="clear" 
        size="small" 
        [disabled]="!skillInput" 
        (click)="addCustomSkill()">
        <ion-icon name="add" slot="icon-only"></ion-icon>
      </ion-button>
    </div>

    <ion-list *ngIf="filteredSkills.length > 0" class="suggestions-list">
      <ion-item 
        *ngFor="let skill of filteredSkills" 
        button 
        (click)="addSkill(skill)" 
        lines="full"
        detail="false">
        <ion-label>{{ skill }}</ion-label>
        <ion-icon name="add" slot="end" size="small" color="medium"></ion-icon>
      </ion-item>
    </ion-list>

    <div class="selected-skills-container" *ngIf="selectedSkills.length > 0">
      <p class="label-small">Selecionados:</p>
      <div class="chips-cloud">
        <ion-chip *ngFor="let skill of selectedSkills" (click)="removeSkill(skill)">
          <ion-label>{{ skill }}</ion-label>
          <ion-icon name="close-circle"></ion-icon>
        </ion-chip>
      </div>
    </div>
    
    <p *ngIf="selectedSkills.length === 0" class="hint-text">
      Digite acima para adicionar suas skills.
    </p>

  </div>
</div>